configurations.all {
  resolutionStrategy {
    failOnVersionConflict()

    eachDependency {
      // Spock brings in both 1.1 and 1.3 of this guy, so force 1.1 to 1.3.
      // Excludes aren't ideal because it's spock bringing in both of these
      if (requested.name == "hamcrest-core" && requested.version == "1.1") {
        useVersion "1.3"
      }

      // Convert groovy to groovy-all
      if (requested.name == "groovy") {
        useTarget "$requested.group:groovy-all:$requested.version"
      }
    }
  }
}